# ═══════════════════════════════════════════════════════════════
# PK Partial Picking System - Master Environment Configuration
# ═══════════════════════════════════════════════════════════════

# ────────────────────────────────────────────────────────────────
# 🌍 Environment Settings
# ─────────────────────────────── ─────────────────────────────────
NODE_ENV=development
RUST_ENV=development
RUST_LOG=info

# ────────────────────────────────────────────────────────────────
# 🖥️ Service Ports & Network Configuration
# ────────────────────────────────────────────────────────────────
FRONTEND_PORT=6060
BACKEND_PORT=7075
BRIDGE_SERVICE_PORT=5000

# Backend Server Configuration - Bind to all interfaces for maximum compatibility
# 0.0.0.0 allows connections from any network interface (localhost, LAN, WSL2)
SERVER_HOST=0.0.0.0

# Development mode: Both services run on localhost
# Frontend: http://localhost:6060
# Backend: http://localhost:7075

# Frontend ↔ API configuration (direct backend connection - no proxy)
BACKEND_PROTOCOL=http
BACKEND_HOST=localhost
API_BASE_URL=http://localhost:7075/api

# Bridge Service Configuration (Windows-hosted bridge service)
BRIDGE_PROTOCOL=http
BRIDGE_HOST=localhost

# ────────────────────────────────────────────────────────────────
# 🗄️ Database Configuration - Primary (TFCPILOT3)
# ────────────────────────────────────────────────────────────────
DATABASE_SERVER=192.168.0.86
DATABASE_PORT=49381
DATABASE_NAME=TFCPILOT3
DATABASE_USERNAME=NSW
DATABASE_PASSWORD=B3sp0k3

# Legacy aliases (kept for backward compatibility)
PRIMARY_DB=TFCPILOT3
DB_USERNAME=NSW
DB_PASSWORD=B3sp0k3

# ────────────────────────────────────────────────────────────────
# 📊 Database Configuration - Fallback
# ────────────────────────────────────────────────────────────────
SCALE_DB_SERVER=192.168.0.86
SCALE_DB_PORT=49381
SCALE_DB_NAME=TFCPILOT3
SCALE_DB_USERNAME=NSW
SCALE_DB_PASSWORD=B3sp0k3

# ────────────────────────────────────────────────────────────────
# 🔐 Authentication Configuration
# ────────────────────────────────────────────────────────────────

# LDAP/Active Directory Configuration
LDAP_URL=ldap://192.168.0.1
LDAP_BASE_DN=DC=NWFTH,DC=com
LDAP_ENABLED=true

# JWT Configuration
JWT_SECRET=PK2024_SecureJWT_PartialPickingSystem_NWFTH_SuperSecretKey_DoNotShare_InProduction_ChangeThis
JWT_DURATION_HOURS=168
JWT_ISSUER=NWFTH-PartialPicking

# Frontend Authentication Storage Keys
AUTH_TOKEN_KEY=pk_auth_token
USER_DATA_KEY=pk_auth_user
SESSION_TIMEOUT_HOURS=168

# Authentication Feature Flags
ENABLE_LDAP_AUTH=true
ENABLE_SQL_AUTH=true

# ────────────────────────────────────────────────────────────────
# ⚖️ Hardware Configuration - Weight Scales
# ────────────────────────────────────────────────────────────────
DEFAULT_SCALE_BAUD_RATE=9600
WEIGHT_POLLING_INTERVAL_MS=100
SCALE_READ_TIMEOUT_MS=300
WEBSOCKET_MAX_RESPONSE_TIME=100
ENABLE_MULTI_SCALE=true
ENABLE_WEBSOCKETS=true

# Scale Communication Mode
# - true: Continuous reading (no "P" command, scale streams data automatically)
# - false: Polling mode (send "P" command to request weight)
SCALE_CONTINUOUS_MODE=true


# ────────────────────────────────────────────────────────────────
# 🚀 Performance & Development Settings
# ───────────────────────────────────────────────────────────────

# Application Information
APP_NAME=Partial Picking System
APP_VERSION=1.0.0
COMPANY_NAME=Newly Weds Foods Thailand